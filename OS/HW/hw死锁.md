资源A 总共有12个。

| 进程 / 资源情况 | Max A | Allocation A | Need A | Available A |
| --------------- | ----- | ------------ | ------ | ----------- |
| P1              | 10    | 5            | 5      | 3           |
| P2              | 4     | 2            | 2      |             |
| P3              | 9     | 2            | 7      |             |

安全序列是（P2、P1、P3）

但是，以下序列也可以避免死锁。

| 进程 / 资源情况 | Max A | Allocation A | Need A | Available A |
| --------------- | ----- | ------------ | ------ | ----------- |
| P1              | 10    | 5            | 5      | 2           |
| P2              | 4     | 2            | 2      |             |
| P3              | 9     | 3            | 6      |             |

| 进程 / 资源情况 | Max A | Allocation A | Need A | Available A |
| --------------- | ----- | ------------ | ------ | ----------- |
| P1              | 10    | 5            | 5      | 0           |
| P2              | 4     | 4            | 0      |             |
| P3              | 9     | 3            | 6      |             |

| 进程 / 资源情况 | Max A | Allocation A | Need A | Available A |
| --------------- | ----- | ------------ | ------ | ----------- |
| P1              | 10    | 3            | 7      | 9           |
| P3              | 9     | 0            | 9      |             |
|                 |       |              |        |             |

| 进程 / 资源情况 | Max A | Allocation A | Need A | Available A |
| --------------- | ----- | ------------ | ------ | ----------- |
| P1              | 10    | 10           | 0      | 2           |
| P3              | 9     | 0            | 9      |             |
|                 |       |              |        |             |

| 进程 / 资源情况 | Max A | Allocation A | Need A | Available A |
| --------------- | ----- | ------------ | ------ | ----------- |
| P3              | 9     | 0            | 9      | 12          |
|                 |       |              |        |             |
|                 |       |              |        |             |

| 进程 / 资源情况 | Max A | Allocation A | Need A | Available A |
| --------------- | ----- | ------------ | ------ | ----------- |
| P3              | 9     | 9            | 0      | 3           |
|                 |       |              |        |             |
|                 |       |              |        |             |

| need       |
| ---------- |
| A    B C D |
| 0 0 0 0    |
| 0 7 5 0    |
| 1 0 0 2    |
| 0 0 2 0    |
| 0 6 4 2    |



|      | allocation | max     | available | need     |
| ---- | ---------- | ------- | --------- | -------- |
|      | A B C D    | A B C D | A  B C D  | A  B C D |
| P0   | 0 0 1 2    | 0 0 1 2 | 1 1 0 0   | 0 0 0 0  |
| P1   | 1 4 2 0    | 1 7 5 0 |           | 0 3 3 0  |
| P2   | 1 3 5 4    | 2 3 5 6 |           | 1 0 0 2  |
| P3   | 0 6 3 2    | 0 6 5 2 |           | 0 0 2 0  |
| P4   | 0 0 1 4    | 0 6 5 6 |           | 0 6 4 2  |

  allocation  max  available  need    A B C D  A B C D  A  B C D  A  B C D  P0  0 0 1 2  0 0 1 2        1 1 0 0  0 0 0 0  P1  1 4 2 0   1 7 5 0    0 3 3 0  P2  1 3 5 4  2 3 5 6    1 0 0 2  P3  0 6 3 2  0 6 5 2    0 0 2 0  P4  0 0 1 4  0 6 5 6    0 6 4 2



进入了不安全状态仅说明当前情况下的资源分配出现不安全的因素，而随着时间的推移，资源的分配可能会发生变化的，原来占有临界资源的进程可能因为某些原因自己阻塞起来，并放弃已拥有的临界资源跑到阻塞队列后排队，这样原来请求这些临界资源的进程就有可能满足其需要而可以执行。



a.

need:

| need    |
| ------- |
| A B C D |
| 0 0 0 0 |
| 0 7 5 0 |
| 1 0 0 2 |
| 0 0 2 0 |
| 0 6 4 2 |





b.处于安全状态，安全序列（P0、P2、P3、P4、P1）。

c﻿.

分配之后的状态：

| allocation | max     | available | need    |         |
| ---------- | ------- | --------- | ------- | ------- |
|            | A B C D | A B C D   | A B C D | A B C D |
| P0         | 0 0 1 2 | 0 0 1 2   | 1 1 0 0 | 0 0 0 0 |
| P1         | 1 4 2 0 | 1 7 5 0   |         | 0 3 3 0 |
| P2         | 1 3 5 4 | 2 3 5 6   |         | 1 0 0 2 |
| P3         | 0 6 3 2 | 0 6 5 2   |         | 0 0 2 0 |
| P4         | 0 0 1 4 | 0 6 5 6   |         | 0 6 4 2 |

﻿﻿﻿﻿﻿﻿﻿﻿安全序列是（P0、P2、P1、P3、P4），所以可以被授权。﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿